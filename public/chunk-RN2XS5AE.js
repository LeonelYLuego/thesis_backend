import{a as oe}from"./chunk-WFJL32OA.js";import{a as me}from"./chunk-J23ELMUS.js";import"./chunk-7FSHLLYC.js";import{Aa as e,Ab as J,Ba as t,Bb as U,Ca as r,Cb as B,Da as D,Db as O,Ea as _,Eb as z,Fb as G,Gb as K,Ha as g,Ia as E,Ka as n,Kb as V,La as M,Lb as q,Ma as b,Mb as Z,Na as k,Nb as $,Ob as Q,Pb as W,Qa as y,Qb as X,Rb as Y,Sb as ee,Tb as te,Ub as ne,Vb as ie,Wb as ae,X as f,Xb as re,Yb as le,Zb as C,c as x,fb as F,gb as v,ka as w,oa as l,ob as h,pa as c,qb as I,rb as S,sb as P,tb as R,ub as T,vb as A,wb as N,xa as m,xb as j,yb as H,za as u,zb as L}from"./chunk-TTSPFW42.js";function Se(i,a){if(i&1&&(e(0,"div",12)(1,"p",13),n(2," Para integrar OAuth a su p\xE1gina, deber\xE1 primero redireccionar al usuario a la siguiente url: "),t(),e(3,"p",14),n(4),t(),e(5,"p"),n(6,' Despu\xE9s de que el usuario acept\xF3 iniciar sesi\xF3n, usted recibir\xE1 la informaci\xF3n del usuario encriptada como par\xE1metro de consulta con el nombre de "encrypted" en al url proporcionada como redirigir, como se muestra a continuaci\xF3n: '),t(),e(7,"p",14),n(8),t(),e(9,"p"),n(10," Para desencriptar los datos usted deber\xE1 implementar el siguiente c\xF3digo en nodejs: "),t(),e(11,"div",14)(12,"div",15)(13,"span",16),n(14,"import"),t(),e(15,"span",17),n(16,"\xA0"),t(),e(17,"span",18),n(18,"CryptoJS"),t(),e(19,"span",17),n(20,"\xA0"),t(),e(21,"span",16),n(22,"from"),t(),e(23,"span",17),n(24,"\xA0"),t(),e(25,"span",19),n(26,"'crypto-js'"),t(),e(27,"span",20),n(28,";"),t(),r(29,"br")(30,"br"),e(31,"span",21),n(32,"const"),t(),e(33,"span",22),n(34,"\xA0"),t(),e(35,"span",18),n(36,"encrypted"),t(),e(37,"span",22),n(38,"\xA0"),t(),e(39,"span",16),n(40,"="),t(),e(41,"span",22),n(42,"\xA0"),t(),e(43,"span",23),n(44,'//Obtener el par\xE1metro de consulta "encrypted"'),t(),r(45,"br"),e(46,"span",16),n(47,"if"),t(),e(48,"span",22),n(49,"\xA0"),t(),e(50,"span",20),n(51,"("),t(),e(52,"span",18),n(53,"encrypted"),t(),e(54,"span",20),n(55,")"),t(),e(56,"span",22),n(57,"\xA0"),t(),e(58,"span",20),n(59,"{"),r(60,"br"),t(),e(61,"span",22),n(62,"\xA0\xA0"),t(),e(63,"span",21),n(64,"var"),t(),e(65,"span",22),n(66,"\xA0"),t(),e(67,"span",18),n(68,"decrypted"),t(),e(69,"span",22),n(70,"\xA0"),t(),e(71,"span",16),n(72,"="),t(),e(73,"span",22),n(74,"\xA0"),t(),e(75,"span",22),n(76,"CryptoJS"),t(),e(77,"span",20),n(78,"."),t(),e(79,"span",18),n(80,"AES"),t(),e(81,"span",20),n(82,"."),t(),e(83,"span",22),n(84,"decrypt"),t(),e(85,"span",20),n(86,"("),r(87,"br"),t(),e(88,"span",22),n(89,"\xA0 \xA0\xA0"),t(),e(90,"span",18),n(91,"encrypted"),t(),e(92,"span",20),n(93,","),r(94,"br"),t(),e(95,"span",22),n(96,"\xA0 \xA0\xA0"),t(),e(97,"span",22),n(98,"CryptoJS"),t(),e(99,"span",20),n(100,"."),t(),e(101,"span",22),n(102,"enc"),t(),e(103,"span",20),n(104,"."),t(),e(105,"span",18),n(106,"Utf8"),t(),e(107,"span",20),n(108,"."),t(),e(109,"span",22),n(110,"parse"),t(),e(111,"span",20),n(112,"("),t(),e(113,"span",19),n(114),t(),e(115,"span",20),n(116,"),"),r(117,"br"),t(),e(118,"span",22),n(119,"\xA0 \xA0\xA0"),t(),e(120,"span",20),n(121,"{"),r(122,"br"),t(),e(123,"span",22),n(124,"\xA0 \xA0 \xA0\xA0"),t(),e(125,"span",20),n(126,"mode"),t(),e(127,"span",20),n(128,":"),t(),e(129,"span",22),n(130,"\xA0"),t(),e(131,"span",22),n(132,"CryptoJS"),t(),e(133,"span",20),n(134,"."),t(),e(135,"span",22),n(136,"mode"),t(),e(137,"span",20),n(138,"."),t(),e(139,"span",18),n(140,"ECB"),t(),e(141,"span",20),n(142,","),r(143,"br"),t(),e(144,"span",22),n(145,"\xA0 \xA0 \xA0\xA0"),t(),e(146,"span",20),n(147,"padding"),t(),e(148,"span",20),n(149,":"),t(),e(150,"span",22),n(151,"\xA0"),t(),e(152,"span",22),n(153,"CryptoJS"),t(),e(154,"span",20),n(155,"."),t(),e(156,"span",22),n(157,"pad"),t(),e(158,"span",20),n(159,"."),t(),e(160,"span",18),n(161,"Pkcs7"),t(),e(162,"span",20),n(163,","),r(164,"br"),t(),e(165,"span",22),n(166,"\xA0 \xA0\xA0"),t(),e(167,"span",20),n(168,"}"),r(169,"br"),t(),e(170,"span",22),n(171,"\xA0\xA0"),t(),e(172,"span",20),n(173,");"),t(),r(174,"br"),e(175,"span",22),n(176,"\xA0\xA0"),t(),e(177,"span",21),n(178,"var"),t(),e(179,"span",22),n(180,"\xA0"),t(),e(181,"span",18),n(182,"decryptedText"),t(),e(183,"span",22),n(184,"\xA0"),t(),e(185,"span",16),n(186,"="),t(),e(187,"span",22),n(188,"\xA0"),t(),e(189,"span",22),n(190,"CryptoJS"),t(),e(191,"span",20),n(192,"."),t(),e(193,"span",22),n(194,"enc"),t(),e(195,"span",20),n(196,"."),t(),e(197,"span",18),n(198,"Utf8"),t(),e(199,"span",20),n(200,"."),t(),e(201,"span",22),n(202,"stringify"),t(),e(203,"span",20),n(204,"("),t(),e(205,"span",18),n(206,"decrypted"),t(),e(207,"span",20),n(208,");"),r(209,"br"),t(),e(210,"span",22),n(211,"\xA0\xA0"),t(),e(212,"span",21),n(213,"console"),t(),e(214,"span",20),n(215,"."),t(),e(216,"span",22),n(217,"log"),t(),e(218,"span",20),n(219,"("),t(),e(220,"span",21),n(221,"JSON"),t(),e(222,"span",20),n(223,"."),t(),e(224,"span",22),n(225,"parse"),t(),e(226,"span",20),n(227,"("),t(),e(228,"span",18),n(229,"decryptedText"),t(),e(230,"span",20),n(231,"));"),r(232,"br"),t(),e(233,"span",20),n(234,"}"),t()()()()),i&2){let o=E();l(4),k(" https://www.masce.ddns.net/oauth?id=",o.page.publicKey.toUpperCase(),"&redirectTo=",o.page.url," "),l(4),b(" https://",o.page.url,"?encrypted={datos encriptados} "),l(106),b("'",o.page.privateKey,"'")}}function Ee(i,a){if(i&1&&(e(0,"div")(1,"mat-form-field",4)(2,"mat-label"),n(3,"Id"),t(),r(4,"input",24),t(),e(5,"mat-form-field",4)(6,"mat-label"),n(7,"Llave secreta"),t(),r(8,"input",24),t()()),i&2){let o=E();l(4),m("value",o.page.publicKey),l(4),m("value",o.page.privateKey)}}function fe(i,a){if(i&1&&(e(0,"button",25),n(1," Eliminar "),t()),i&2){let o=E();m("disabled",o.pageForm.invalid)}}function ge(i,a){if(i&1&&(e(0,"button",26),n(1," Agregar "),t()),i&2){let o=E();m("disabled",o.pageForm.invalid)}}var de=(()=>{let a=class a{constructor(p,s,d){this.dialogRef=p,this.pagesService=s,this.matSnackBar=d,this.pageForm=new T({name:new A("",[S.required,S.maxLength(32)]),url:new A("",[S.required,S.pattern(/^[a-zA-Z0-9_-]+(\.[a-zA-Z]{2,})+$/),S.maxLength(32)])})}ngOnInit(){return x(this,null,function*(){yield this.find()})}find(){return x(this,null,function*(){try{this.page=yield this.pagesService.find(),this.page&&(this.pageForm.controls.name.disable(),this.pageForm.controls.url.disable(),this.pageForm.patchValue(this.page))}catch{}})}createDelete(){return x(this,null,function*(){if(this.page)yield this.pagesService.remove(),this.dialogRef.close();else if(this.pageForm.valid)try{yield this.pagesService.create(this.pageForm.value),yield this.find()}catch(p){p.status&&p.status==400&&p.error.message=="url already exist"&&(this.pageForm.controls.url.setErrors({incorrect:!0}),this.matSnackBar.open("URL ya registrada",void 0,{verticalPosition:"bottom",horizontalPosition:"end",panelClass:"primary-snackbar",duration:2e3}))}})}};a.\u0275fac=function(s){return new(s||a)(c(V),c(oe),c(K))},a.\u0275cmp=f({type:a,selectors:[["app-page-details-dialog"]],standalone:!0,features:[y],decls:25,vars:6,consts:[[1,"text-primary","font-bold","text-2xl","my-3","mx-4"],[3,"formGroup","submit"],["mat-dialog-content",""],["class","mb-8",4,"ngIf"],["appearance","outline",1,"w-full","mb-3"],["matInput","","formControlName","name",1,"!text-white"],["matInput","","formControlName","url",1,"!text-white"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","type","submit","color","warn","class","ms-2",3,"disabled",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","class","ms-2",3,"disabled",4,"ngIf"],["mat-raised-button","","type","button","mat-dialog-close","",1,"ms-2"],[1,"mb-8"],[1,"w-full","text-justify"],[1,"my-2","p-2","text-white","w-full","rounded-md","bg-black","overflow-y-auto"],["data-darkreader-inline-color","","data-darkreader-inline-bgcolor","",2,"color","rgb(225, 225, 225)","font-family",`'Cascadia Code PL', Consolas, 'Courier New', monospace,
              Consolas, 'Courier New', monospace`,"font-weight","normal","font-size","14px","line-height","19px","white-space","pre","--darkreader-inline-color","#d5d1cc","--darkreader-inline-bgcolor","#232627"],["data-darkreader-inline-color","",2,"color","rgb(255, 216, 102)","--darkreader-inline-color","#ffd761"],["data-darkreader-inline-color","",2,"color","rgb(200, 200, 200)","--darkreader-inline-color","#c5c0b9"],["data-darkreader-inline-color","",2,"color","rgb(255, 97, 136)","--darkreader-inline-color","#ff5d85"],["data-darkreader-inline-color","",2,"color","rgb(169, 220, 118)","--darkreader-inline-color","#a9dc76"],["data-darkreader-inline-color","",2,"color","rgb(225, 225, 225)","--darkreader-inline-color","#d5d1cc"],["data-darkreader-inline-color","",2,"color","rgb(120, 232, 198)","--darkreader-inline-color","#75e7c5"],["data-darkreader-inline-color","",2,"color","rgb(120, 220, 232)","--darkreader-inline-color","#75dbe7"],["data-darkreader-inline-color","",2,"color","rgb(110, 110, 110)","font-style","italic","--darkreader-inline-color","#a39b8e"],["matInput","","disabled","",1,"!text-white",3,"value"],["mat-raised-button","","type","submit","color","warn",1,"ms-2",3,"disabled"],["mat-raised-button","","type","submit","color","primary",1,"ms-2",3,"disabled"]],template:function(s,d){s&1&&(e(0,"h1",0),n(1),t(),e(2,"form",1),g("submit",function(){return d.createDelete()}),e(3,"div",2),u(4,Se,235,4,"div",3),e(5,"mat-form-field",4)(6,"mat-label"),n(7,"Nombre"),t(),r(8,"input",5),e(9,"mat-error"),n(10,"Nombre inv\xE1lido"),t()(),e(11,"mat-form-field",4)(12,"mat-label"),n(13,"URL"),t(),r(14,"input",6),e(15,"mat-error"),n(16,"URL inv\xE1lida"),t(),e(17,"mat-hint"),n(18,"Ej. google.com"),t()(),u(19,Ee,9,2,"div",7),t(),e(20,"div",8),u(21,fe,2,1,"button",9)(22,ge,2,1,"button",10),e(23,"button",11),n(24," Cancelar "),t()()()),s&2&&(l(1),b(" ",d.page?"P\xE1gina":"Agregar p\xE1gina",`
`),l(1),m("formGroup",d.pageForm),l(2),m("ngIf",d.page),l(15),m("ngIf",d.page),l(2),m("ngIf",d.page),l(1),m("ngIf",!d.page))},dependencies:[v,F,C,h,G,z,U,O,B,Z,Q,$,L,N,I,P,R,J,j,H]});let i=a;return i})();function be(i,a){i&1&&(e(0,"th",10),n(1," P\xE1gina "),t())}function ye(i,a){if(i&1&&(e(0,"td",11)(1,"a",12),n(2),t()()),i&2){let o=a.$implicit;l(1),m("href","http://"+o.url,w),l(1),M(o.name)}}function ve(i,a){i&1&&r(0,"tr",13)}function he(i,a){i&1&&r(0,"tr",14)}var se=(()=>{let a=class a{constructor(p,s){this.matDialog=p,this.accountsService=s,this.pages=[],this.displayedColumns=["name"]}ngOnInit(){return x(this,null,function*(){this.pages=yield this.accountsService.pages()})}openPageDetails(){this.matDialog.open(de,{width:"1000px"})}};a.\u0275fac=function(s){return new(s||a)(c(q),c(me))},a.\u0275cmp=f({type:a,selectors:[["app-pages"]],standalone:!0,features:[y],decls:12,vars:3,consts:[[1,"flex","flex-row","items-center","mb-4"],[1,"text-3xl","font-bold","text-primary"],[1,"flex-auto"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"!bg-black","!rounded-md","!shadow-md",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","text-xl text-primary",4,"matHeaderCellDef"],["mat-cell","","class","underline cursor-pointer hover:text-primary",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-xl","text-primary"],["mat-cell","",1,"underline","cursor-pointer","hover:text-primary"],["target","_blank",3,"href"],["mat-header-row",""],["mat-row",""]],template:function(s,d){s&1&&(e(0,"div",0)(1,"h1",1),n(2,"P\xE1ginas registradas"),t(),r(3,"div",2),e(4,"button",3),g("click",function(){return d.openPageDetails()}),n(5," P\xE1gina OAuth 2.0 "),t()(),e(6,"table",4),D(7,5),u(8,be,2,0,"th",6)(9,ye,3,2,"td",7),_(),u(10,ve,1,0,"tr",8)(11,he,1,0,"tr",9),t()),s&2&&(l(6),m("dataSource",d.pages),l(4),m("matHeaderRowDef",d.displayedColumns),l(1),m("matRowDefColumns",d.displayedColumns))},dependencies:[v,C,h,W,Y,ie,ee,X,ae,te,ne,re,le]});let i=a;return i})();var Ce=[{path:"",component:se}],ze=Ce;export{ze as default};
